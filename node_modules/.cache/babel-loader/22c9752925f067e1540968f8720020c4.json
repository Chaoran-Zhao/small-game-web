{"ast":null,"code":"import _toConsumableArray from\"C:/Users/23703/OneDrive/\\u684C\\u9762/exam/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:/Users/23703/OneDrive/\\u684C\\u9762/exam/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/23703/OneDrive/\\u684C\\u9762/exam/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import*as React from'react';import l1 from'../data/shrek/1.png';import l2 from'../data/shrek/2.png';import l3 from'../data/shrek/3.png';import l4 from'../data/shrek/4.png';import l5 from'../data/shrek/5.png';import l6 from'../data/shrek/6.png';import l7 from'../data/shrek/7.png';import l8 from'../data/shrek/8.png';export default function Slido(){var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),reset=_React$useState2[0],setReset=_React$useState2[1];var _React$useState3=React.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),randSet=_React$useState4[0],setRandom=_React$useState4[1];var _React$useState5=React.useState(null),_React$useState6=_slicedToArray(_React$useState5,2),curBlank=_React$useState6[0],setBlank=_React$useState6[1];var _React$useState7=React.useState({}),_React$useState8=_slicedToArray(_React$useState7,2),curMap=_React$useState8[0],setMap=_React$useState8[1];var _React$useState9=React.useState(0),_React$useState10=_slicedToArray(_React$useState9,2),movement=_React$useState10[0],setMove=_React$useState10[1];var _React$useState11=React.useState(false),_React$useState12=_slicedToArray(_React$useState11,2),status=_React$useState12[0],setStatus=_React$useState12[1];var _React$useState13=React.useState(false),_React$useState14=_slicedToArray(_React$useState13,2),active=_React$useState14[0],setActive=_React$useState14[1];var check=[2,5,8];var list=[l1,l2,l3,l4,l5,l6,l7,l8];//0-7\nvar generateRandom=function generateRandom(){var max=8;var min=0;var randList=[];while(randList.length<9){var random=Math.floor(Math.random()*(max-min+1)+min);if(randList.indexOf(random)===-1){randList.push(random);}}// let randList =[1,2,3,4,5,6,7,0,8]\nconsole.log(randList);setRandom(randList);for(var i in randList){if(randList[i]===0){setBlank(parseInt(i));console.log(i);}}for(var _i=0;_i<9;_i++){var temp=curMap;temp[_i]=list[randList[_i]-1];setMap(temp);}};React.useEffect(function(){generateRandom();},[reset]);React.useEffect(function(){},[curMap]);var move=function move(index){setMove(movement+1);if(index+1===curBlank&&index!==2&index!==5&&index!==8){var temp=_objectSpread({},curMap);var temp1=curMap[index];temp[index]=_objectSpread({},curMap[index+1]);temp[index+1]=temp1;setMap(temp);setBlank(index);if(Winning(temp)){var curScore=localStorage.getItem('X');localStorage.setItem('X',parseInt(curScore)+1);alert('Correct!');setStatus(true);}}else if(index-1===curBlank&&index!==0&index!==3&&index!==6){console.log('here wrong');var _temp=_objectSpread({},curMap);var _temp2=curMap[index];_temp[index]=_objectSpread({},curMap[index-1]);_temp[index-1]=_temp2;setMap(_temp);setBlank(index);if(Winning(_temp)){var _curScore=localStorage.getItem('X');localStorage.setItem('X',parseInt(_curScore)+1);alert('Correct!');setStatus(true);}}else if(index+3===curBlank){var _temp3=_objectSpread({},curMap);var _temp4=curMap[index];_temp3[index]=_objectSpread({},curMap[index+3]);_temp3[index+3]=_temp4;setMap(_temp3);setBlank(index);if(Winning(_temp3)){var _curScore2=localStorage.getItem('X');localStorage.setItem('X',parseInt(_curScore2)+1);alert('Correct!');setStatus(true);}}else if(index-3===curBlank){var _temp5=_objectSpread({},curMap);var _temp6=curMap[index];_temp5[index]=_objectSpread({},curMap[index-3]);_temp5[index-3]=_temp6;setMap(_temp5);setBlank(index);if(Winning(_temp5)){var _curScore3=localStorage.getItem('X');localStorage.setItem('X',parseInt(_curScore3)+1);alert('Correct!');setStatus(true);}}};var Winning=function Winning(dict){for(var i in list){if(dict[i]!==list[i]){return false;}}return true;};var SolveP=function SolveP(){var temp={};for(var i in list){temp[i]=list[i];}setMap(temp);};var arrowUpPressed=useKeyPress('ArrowUp');var arrowDownPressed=useKeyPress('ArrowDown');var arrowLeftPressed=useKeyPress('ArrowLeft');var arrowRightPressed=useKeyPress('ArrowRight');React.useEffect(function(){if(active===true){if(arrowUpPressed){console.log('keyUP');console.log(curBlank+3);var temp=_objectSpread({},curMap);var temp1=curMap[curBlank+3];temp[curBlank+3]=_objectSpread({},curMap[curBlank]);temp[curBlank]=temp1;setMap(temp);setBlank(curBlank+3);if(Winning(temp)){var curScore=localStorage.getItem('X');localStorage.setItem('X',parseInt(curScore)+1);alert('Correct!');setStatus(true);}}if(arrowDownPressed){console.log('keyDown');var _temp7=_objectSpread({},curMap);var _temp8=curMap[curBlank-3];_temp7[curBlank-3]=_objectSpread({},curMap[curBlank]);_temp7[curBlank]=_temp8;setMap(_temp7);setBlank(curBlank-3);if(Winning(_temp7)){var _curScore4=localStorage.getItem('X');localStorage.setItem('X',parseInt(_curScore4)+1);alert('Correct!');setStatus(true);}}if(arrowLeftPressed){console.log('keyLeft');if(curBlank===2||curBlank===5||curBlank===8){console.log('should not move');}else{var _temp9=_objectSpread({},curMap);var _temp10=curMap[curBlank+1];_temp9[curBlank+1]=_objectSpread({},curMap[curBlank]);_temp9[curBlank]=_temp10;setMap(_temp9);setBlank(curBlank+1);if(Winning(_temp9)){var _curScore5=localStorage.getItem('X');localStorage.setItem('X',parseInt(_curScore5)+1);alert('Correct!');setStatus(true);}}}if(arrowRightPressed){console.log('keyRight');if(curBlank===0||curBlank===3||curBlank===6){console.log('should not move');}else{var _temp11=_objectSpread({},curMap);var _temp12=curMap[curBlank-1];_temp11[curBlank-1]=_objectSpread({},curMap[curBlank]);_temp11[curBlank]=_temp12;setMap(_temp11);setBlank(curBlank-1);if(Winning(_temp11)){var _curScore6=localStorage.getItem('X');localStorage.setItem('X',parseInt(_curScore6)+1);alert('Correct!');setStatus(true);}}}}},[arrowUpPressed,arrowDownPressed,arrowLeftPressed,arrowRightPressed]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"container1\",style:{textAlign:'center'},children:/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){setActive(!active);},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'2rem'},children:\"Click on the image pieces or click on the plate then use the arrow key to move it!\"}),/*#__PURE__*/_jsxs(\"div\",{style:{width:'460px',height:'460px',margin:'0 auto',boxShadow:!active?'none':' 0 13px 40px -5px hsla(240, 30.1%, 28%, 0.12), 0 8px 32px -8px hsla(0, 0%, 0%, 0.5), 0 -6px 64px -6px hsla(0, 0%, 0%, 0.05)'},onClick:function onClick(){setActive(!active);},children:[_toConsumableArray(Array(9)).map(function(e,index){return/*#__PURE__*/_jsx(_Fragment,{children:check.includes(index)?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'inline-flex',width:'150px',height:'150px',border:'1px solid #333',textAlign:'center'},children:/*#__PURE__*/_jsx(\"img\",{src:curMap[index],alt:\"\",onClick:function onClick(){move(index);}})},index),/*#__PURE__*/_jsx(\"br\",{})]}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{style:{display:'inline-flex',width:'150px',height:'150px',border:'1px solid #333',textAlign:'center'},children:/*#__PURE__*/_jsx(\"img\",{src:curMap[index],alt:\"\",onClick:function onClick(){move(index);}})},index)})});}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){SolveP();setStatus(true);console.log(status);setMove(1);},disabled:status===true?true:false,children:\" Solve\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){setReset(!reset);setMove(0);setStatus(false);},disabled:movement===0&&status!==true?true:false,children:\" Reset\"}),\"  \"]})]})})});}function useKeyPress(targetKey){// State for keeping track of whether key is pressed\nvar _React$useState15=React.useState(false),_React$useState16=_slicedToArray(_React$useState15,2),keyPressed=_React$useState16[0],setKeyPressed=_React$useState16[1];// If pressed key is our target key then set to true\nfunction downHandler(_ref){var key=_ref.key;if(key===targetKey){setKeyPressed(true);}}// If released key is our target key then set to false\nvar upHandler=function upHandler(_ref2){var key=_ref2.key;if(key===targetKey){setKeyPressed(false);}};// Add event listeners\nReact.useEffect(function(){window.addEventListener(\"keydown\",downHandler);window.addEventListener(\"keyup\",upHandler);// Remove event listeners on cleanup\nreturn function(){window.removeEventListener(\"keydown\",downHandler);window.removeEventListener(\"keyup\",upHandler);};},[]);// Empty array ensures that effect is only run on mount and unmount\nreturn keyPressed;}","map":{"version":3,"sources":["C:/Users/23703/OneDrive/桌面/exam/src/pages/slido.js"],"names":["React","l1","l2","l3","l4","l5","l6","l7","l8","Slido","useState","reset","setReset","randSet","setRandom","curBlank","setBlank","curMap","setMap","movement","setMove","status","setStatus","active","setActive","check","list","generateRandom","max","min","randList","length","random","Math","floor","indexOf","push","console","log","i","parseInt","temp","useEffect","move","index","temp1","Winning","curScore","localStorage","getItem","setItem","alert","dict","SolveP","arrowUpPressed","useKeyPress","arrowDownPressed","arrowLeftPressed","arrowRightPressed","textAlign","fontSize","width","height","margin","boxShadow","Array","map","e","includes","display","border","targetKey","keyPressed","setKeyPressed","downHandler","key","upHandler","window","addEventListener","removeEventListener"],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport l1 from '../data/shrek/1.png';\r\nimport l2 from '../data/shrek/2.png';\r\nimport l3 from '../data/shrek/3.png';\r\nimport l4 from '../data/shrek/4.png';\r\nimport l5 from '../data/shrek/5.png';\r\nimport l6 from '../data/shrek/6.png';\r\nimport l7 from '../data/shrek/7.png';\r\nimport l8 from '../data/shrek/8.png';\r\n\r\n\r\nexport default function Slido() {\r\n  const [reset, setReset]=React.useState(false)\r\n  const [randSet, setRandom] = React.useState([])\r\n  const [curBlank, setBlank] = React.useState(null)\r\n  const [curMap, setMap] = React.useState({})\r\n  const [movement, setMove] = React.useState(0)\r\n  const [status, setStatus] = React.useState(false)\r\n\r\n  const [active, setActive] = React.useState(false)\r\n\r\n  const check = [2,5,8];\r\n  const list = [l1,l2,l3,l4,l5,l6,l7,l8]//0-7\r\n  const generateRandom = () =>{\r\n    const max = 8;\r\n    const min = 0;\r\n    let randList = [];\r\n    while(randList.length < 9){\r\n      const random = Math.floor(Math.random()*(max-min+1)+min);\r\n      if(randList.indexOf(random) === -1 ) {\r\n        randList.push(random);\r\n      }\r\n    }\r\n    // let randList =[1,2,3,4,5,6,7,0,8]\r\n    console.log(randList);\r\n    setRandom(randList);\r\n    for (const i in randList){\r\n      if (randList[i]===0){\r\n        setBlank( parseInt(i));\r\n        console.log(i)\r\n      }\r\n    }\r\n    for (let i=0; i<9;i++){\r\n      const temp = curMap\r\n      temp[i] = list[randList[i]-1]\r\n      setMap(temp)\r\n    }\r\n  }\r\n  React.useEffect(() => {\r\n    generateRandom();\r\n  },[reset])\r\n\r\n  React.useEffect(() => { \r\n  },[curMap])\r\n\r\n  const move =(index)=>{\r\n    setMove(movement+1)\r\n    if (index + 1 ===curBlank && index!==2 & index!==5 && index!==8){\r\n      const temp ={...curMap}\r\n      const temp1 = curMap[index]\r\n      temp[index] = {...curMap[index+1]}\r\n      temp[index+1] = temp1\r\n      setMap(temp)\r\n      setBlank(index)\r\n      if(Winning(temp)){\r\n        const curScore = localStorage.getItem('X')\r\n        localStorage.setItem('X', parseInt(curScore) + 1)\r\n        alert('Correct!')\r\n        setStatus(true)\r\n      }\r\n    }else if (index - 1 === curBlank && index!==0 & index!==3 && index!==6){\r\n      console.log('here wrong')\r\n      const temp ={...curMap}\r\n      const temp1 = curMap[index]\r\n      temp[index] = {...curMap[index-1]}\r\n      temp[index-1] = temp1\r\n      setMap(temp)\r\n      setBlank(index)\r\n      if(Winning(temp)){\r\n        const curScore = localStorage.getItem('X')\r\n        localStorage.setItem('X', parseInt(curScore) + 1)\r\n        alert('Correct!')\r\n        setStatus(true)\r\n      }\r\n    }else if (index + 3 === curBlank){\r\n      const temp ={...curMap}\r\n      const temp1 = curMap[index]\r\n      temp[index] = {...curMap[index+3]}\r\n      temp[index+3] = temp1\r\n      setMap(temp)\r\n      setBlank(index)\r\n      if(Winning(temp)){\r\n        const curScore = localStorage.getItem('X')\r\n        localStorage.setItem('X', parseInt(curScore) + 1)\r\n        alert('Correct!')\r\n        setStatus(true)\r\n      }\r\n    }else if(index -3 === curBlank){\r\n      const temp ={...curMap}\r\n      const temp1 = curMap[index]\r\n      temp[index] = {...curMap[index-3]}\r\n      temp[index-3] = temp1\r\n      setMap(temp)\r\n      setBlank(index)\r\n      if(Winning(temp)){\r\n        const curScore = localStorage.getItem('X')\r\n        localStorage.setItem('X', parseInt(curScore) + 1)\r\n        alert('Correct!')\r\n        setStatus(true)\r\n      }\r\n    } \r\n  }\r\n\r\n  const Winning = (dict)=>{\r\n    for (const i in list){\r\n      if (dict[i]!==list[i]){\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  const SolveP = ()=>{\r\n    const temp ={}\r\n    for (const i in list){    \r\n      temp[i] = list[i]  \r\n    }\r\n    setMap(temp)\r\n  }\r\n\r\n  const arrowUpPressed = useKeyPress('ArrowUp');\r\n  const arrowDownPressed = useKeyPress('ArrowDown');\r\n  const arrowLeftPressed = useKeyPress('ArrowLeft');\r\n  const arrowRightPressed = useKeyPress('ArrowRight');\r\n  React.useEffect(() => {\r\n    if (active===true){\r\n      if (arrowUpPressed) {\r\n        console.log('keyUP');\r\n        console.log(curBlank+3);\r\n        const temp ={...curMap}\r\n        const temp1 = curMap[curBlank+3]\r\n        temp[curBlank+3] = {...curMap[curBlank]}\r\n        temp[curBlank] = temp1\r\n        setMap(temp)\r\n        setBlank(curBlank+3)\r\n        if(Winning(temp)){\r\n          const curScore = localStorage.getItem('X')\r\n          localStorage.setItem('X', parseInt(curScore) + 1)\r\n          alert('Correct!')\r\n          setStatus(true)\r\n        }\r\n      }\r\n      if (arrowDownPressed) {\r\n        console.log('keyDown')\r\n        const temp ={...curMap}\r\n        const temp1 = curMap[curBlank-3]\r\n        temp[curBlank-3] = {...curMap[curBlank]}\r\n        temp[curBlank] = temp1\r\n        setMap(temp)\r\n        setBlank(curBlank-3)\r\n        if(Winning(temp)){\r\n          const curScore = localStorage.getItem('X')\r\n          localStorage.setItem('X', parseInt(curScore) + 1)\r\n          alert('Correct!')\r\n          setStatus(true)\r\n        }\r\n      }\r\n      if (arrowLeftPressed) {\r\n        console.log('keyLeft')\r\n        if (curBlank===2 || curBlank===5 || curBlank===8){\r\n            console.log('should not move')\r\n        }else{\r\n            const temp ={...curMap}\r\n            const temp1 = curMap[curBlank+1]\r\n            temp[curBlank+1] = {...curMap[curBlank]}\r\n            temp[curBlank] = temp1\r\n            setMap(temp)\r\n            setBlank(curBlank+1)\r\n            if(Winning(temp)){\r\n            const curScore = localStorage.getItem('X')\r\n            localStorage.setItem('X', parseInt(curScore) + 1)\r\n            alert('Correct!')\r\n            setStatus(true)\r\n            }\r\n        }\r\n        \r\n      }\r\n      if (arrowRightPressed) {\r\n        console.log('keyRight')\r\n        if (curBlank===0 || curBlank===3 || curBlank===6){\r\n            console.log('should not move')\r\n        }else{\r\n            const temp ={...curMap}\r\n            const temp1 = curMap[curBlank-1]\r\n            temp[curBlank-1] = {...curMap[curBlank]}\r\n            temp[curBlank] = temp1\r\n            setMap(temp)\r\n            setBlank(curBlank-1)\r\n            if(Winning(temp)){\r\n            const curScore = localStorage.getItem('X')\r\n            localStorage.setItem('X', parseInt(curScore) + 1)\r\n            alert('Correct!')\r\n            setStatus(true)\r\n            }\r\n        }\r\n        \r\n      }\r\n    }\r\n    \r\n  }, [arrowUpPressed,arrowDownPressed,arrowLeftPressed,arrowRightPressed]);\r\n\r\n\r\n  return <><div className='container1' style={{textAlign:'center'}}>\r\n    <div onClick={()=>{\r\n      setActive(!active)\r\n    }}><div style={{fontSize:'2rem'}}>Click on the image pieces or click on the plate then use the arrow key to move it!</div>\r\n      <div style={{width: '460px', height: '460px', margin:'0 auto',boxShadow: !active ? 'none' : ' 0 13px 40px -5px hsla(240, 30.1%, 28%, 0.12), 0 8px 32px -8px hsla(0, 0%, 0%, 0.5), 0 -6px 64px -6px hsla(0, 0%, 0%, 0.05)'}} onClick={()=>{\r\n      setActive(!active)\r\n    }}>\r\n    {[...Array(9)].map((e,index) => { return (\r\n      <>{check.includes(index) \r\n        ? <><div style={{display:'inline-flex', width: '150px', height: '150px',border: '1px solid #333',textAlign: 'center',}} key={index}><img src={curMap[index]} alt=\"\" \r\n        onClick={()=>{\r\n          move(index);}}></img></div><br /></> \r\n        : <><div style={{display: 'inline-flex', width: '150px', height: '150px',border: '1px solid #333',textAlign: 'center',}} key={index}><img src={curMap[index]} alt=\"\"\r\n        onClick={()=>{\r\n          move(index);}}></img></div></>}</>\r\n    )})} <br />\r\n    <button onClick={()=>{\r\n      SolveP();\r\n      setStatus(true);\r\n      console.log(status)\r\n      setMove(1)\r\n      }} disabled={status===true ? true : false}> Solve</button>\r\n    <button onClick={()=>{\r\n      setReset(!reset); \r\n      setMove(0)\r\n      setStatus(false);   \r\n      }} disabled={movement===0 && status!==true ? true : false}> Reset</button>  </div>\r\n      </div>\r\n  </div></>\r\n\r\n}\r\n\r\nfunction useKeyPress(targetKey) {\r\n  // State for keeping track of whether key is pressed\r\n  const [keyPressed, setKeyPressed] = React.useState(false);\r\n  // If pressed key is our target key then set to true\r\n  function downHandler({ key }) {\r\n    if (key === targetKey) {\r\n      setKeyPressed(true);\r\n    }\r\n  }\r\n  // If released key is our target key then set to false\r\n  const upHandler = ({ key }) => {\r\n    if (key === targetKey) {\r\n      setKeyPressed(false);\r\n    }\r\n  };\r\n  // Add event listeners\r\n  React.useEffect(() => {\r\n    window.addEventListener(\"keydown\", downHandler);\r\n    window.addEventListener(\"keyup\", upHandler);\r\n    // Remove event listeners on cleanup\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", downHandler);\r\n      window.removeEventListener(\"keyup\", upHandler);\r\n    };\r\n  }, []); // Empty array ensures that effect is only run on mount and unmount\r\n  return keyPressed;\r\n}"]},"metadata":{},"sourceType":"module"}